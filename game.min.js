 const sceneA = document.getElementById('sceneA');const sceneB = document.getElementById('sceneB');const dimmer = document.getElementById('scene-dimmer');const character = document.getElementById('character');const intro = document.getElementById('intro');const capsule = document.getElementById('ui-capsule');const dialogue = document.getElementById('dialogue');const choices = document.getElementById('choices');const manager = document.getElementById('manager');const badgeManager = document.getElementById('badge-manager');const intern = document.getElementById('intern');const badgeIntern = document.getElementById('badge-intern');const badge = document.getElementById('badge');const dev = document.getElementById('dev');const badgeDev = document.getElementById('badge-dev');(function _0x90ae(){try{const scopeSel = '#sceneA,#sceneB,#character,#manager,#intern,#dev,.ending-card img';const imgs = document.querySelectorAll(scopeSel + ',img');imgs.forEach(img =>{img.setAttribute('draggable','false');img.addEventListener('dragstart',(e)=> e.preventDefault());});document.addEventListener('contextmenu',(e)=>{const el = e.target;if(el &&(el.tagName === 'IMG' || el.closest('#scene-stack,#character,#manager,#intern,#dev'))){e.preventDefault();}});}catch(e){}})();(function _0x0e5b(){if(!dialogue)return;const strip =()=>{dialogue.querySelectorAll('em').forEach(em =>{const t = em.textContent || '';const nt = t.replace(/^«/,'').replace(/»$/,'');if(nt !== t)em.textContent = nt;});};const mo = new MutationObserver(()=> strip());mo.observe(dialogue,{childList:true,subtree:true,characterData:true});strip();})();const state ={extroversion:0,introversion:0,awareness:0,toxicity:0,empathy:0,indifference:0,perfectionism:0,pragmatism:0,};function _0x5307(trait){if(trait in state)state[trait]++;}const __srcCache = new Map();function _0x3bf7(srcPng){if(__srcCache.has(srcPng))return Promise.resolve(__srcCache.get(srcPng));const webpSrc = srcPng.endsWith('.png')? srcPng.replace(/\.png$/i,'.webp'):null;return new Promise((resolve)=>{if(!webpSrc){__srcCache.set(srcPng,srcPng);return resolve(srcPng);}const probe = new Image();probe.onload =()=>{__srcCache.set(srcPng,webpSrc);resolve(webpSrc);};probe.onerror =()=>{__srcCache.set(srcPng,srcPng);resolve(srcPng);};probe.src = webpSrc;});}let activeScene = sceneA,backScene = sceneB;function _0x3ccd(src){dimmer.classList.add('is-on');_0x3bf7(src).then((bestSrc)=>{const img = new Image();img.src = bestSrc;const done =()=> _0xaa70(bestSrc);img.decode ? img.decode().then(done):(img.onload = done);});function _0xaa70(best){backScene.src = best;requestAnimationFrame(()=>{activeScene.classList.remove('is-active');backScene.classList.add('is-active');setTimeout(()=> dimmer.classList.remove('is-on'),1200);const t = activeScene;activeScene = backScene;backScene = t;});}}let __characterLoadId = 0;function setCharacter(src){const loadId = ++__characterLoadId;_0x3bf7(src).then((best)=>{if(loadId !== __characterLoadId)return;if(character.src && character.src.endsWith(best))return;const img = new Image();img.src = best;const _0xaa70 =()=>{if(loadId === __characterLoadId)character.src = best;};img.decode ? img.decode().then(_0xaa70):(img.onload = _0xaa70);});}function showCharacter(){character.style.display = 'block';badge.style.display = 'inline-flex';requestAnimationFrame(()=>{character.classList.add('visible');});}function hideCharacter(){character.classList.remove('visible');badge.style.display = 'none';setTimeout(()=>{character.style.display = 'none';},800);}let __managerLoadId = 0;function setManager(src){const loadId = ++__managerLoadId;_0x3bf7(src).then((best)=>{if(loadId !== __managerLoadId)return;if(manager.src && manager.src.endsWith(best))return;const img = new Image();img.src = best;const _0xaa70 =()=>{if(loadId === __managerLoadId)manager.src = best;};img.decode ? img.decode().then(_0xaa70):(img.onload = _0xaa70);});}function showManager(){manager.style.display = 'block';badgeManager.classList.add('visible');requestAnimationFrame(()=>{manager.classList.add('visible');});}function hideManager(){manager.classList.remove('visible');badgeManager.classList.remove('visible');setTimeout(()=>{manager.style.display = 'none';},800);}function _0x78ec(){if(typeof trackEvent === 'function'){trackEvent('scene_reached',{'event_category':'progress','event_label':'scene_5','scene_number':5});}if(typeof hideDev === 'function')hideDev();if(typeof hideManager === 'function')hideManager();if(typeof hideIntern === 'function')hideIntern();hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Оставляешь чат,допиваешь остывший кофе и снова втыкаешь в ноут');_0xe685(_0x5fd0);}function _0x5fd0(){showIntro('Что-то исправляешь,что-то комментируешь,кто-то что-то пишет');_0xe685(_0xaf64);}function _0xaf64(){_0x3ccd('assets/background-office.png');hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Вечер. Голова тяжёлая. Ты просто сидишь,глядя в экран,где медленно крутится прелоадер');_0xe685(_0x8cac);}function _0xc78b(){hideDev();showCharacter();setCharacter('assets/girl-default.png');setDialogue('Окей,погнали на дизайн-ревью');hideChoicesKeepSlot();_0xe685(_0x60ba);}function _0x60ba(){setCharacter('assets/girl-default.png');setDialogue('Всегда интересно,что получилось,но и немного страшно...');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0x9fca);}function _0x9fca(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Открываешь стенд');_0xe685(_0xbdd9);}function _0xbdd9(){showIntro('Первый экран грузится медленно,но появляется');_0xe685(_0xd655);}function _0xd655(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Начинаем...');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';showChoicesHTML(` <button class="choice" onclick="_0xdf43()">Пройдусь по всему</button> <button class="choice" onclick="_0x67e0()">И так сойдёт</button> `);}function _0xdf43(){_0x5307('empathy');hideChoicesKeepSlot();setCharacter('assets/girl-default.png');setDialogue('В целом всё ок,есть пара мелких моментов. Соберу пару скринов,оформлю док');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';_0xe685(()=>{setDialogue('Здесь ок,но шрифт съехал. Тут иконка фоткой. Переход дёргается. Мелочь,но видно');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';_0xe685(()=>{setDialogue('Лучше сказать сейчас,чем потом искать виноватых');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0x44f7);});});}function _0x67e0(){_0x5307('indifference');hideChoicesKeepSlot();setCharacter('assets/girl-default.png');setDialogue('Выглядит норм,работает,не разваливается,а это уже победа');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';_0xe685(()=>{setDialogue('Не всегда нужно влезать. Иногда можно просто пройти мимо');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0x44f7);});}function _0x8cac(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Кажется,это был норм день. Или нет?..');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0xdfa9);}function _0xdfa9(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Ты уже почти закрываешь ноут,как вдруг к тебе подходит коллега с горящими глазами');_0xe685(_0xf85e);}function _0xf85e(){intro.style.display = 'none';showManager();setManager('assets/manager-surprise.png');showCapsule();setDialogue('Слушай,а давай уволимся и запилим свой стартап?');hideChoicesKeepSlot();_0xe685(_0xad11);}function _0xad11(){setManager('assets/manager-default.png');setDialogue('У меня есть идея,ты охренеешь');hideChoicesKeepSlot();_0xe685(_0xb2a2);}function _0xb2a2(){hideManager();showCharacter();setCharacter('assets/girl-surprise.png');setDialogue('Ого. Это бред… или прорыв?..');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0x98da);}function _0x98da(){setCharacter('assets/girl-default.png');setDialogue('Что ответить?');dialogue.innerHTML = dialogue.textContent;showChoicesHTML(` <button class="choice" onclick="_0x6f18()">Ну давай,расскажи</button> <button class="choice" onclick="_0xe3de()">Чувак,я так устала…</button> `);}function _0x6f18(){_0x5307('extroversion');hideChoicesKeepSlot();hideCharacter();showManager();setManager('assets/manager-surprise.png');setDialogue('Я знал,что тебе зайдёт!');_0xe685(_0xe9f9);}function _0xe3de(){_0x5307('introversion');hideChoicesKeepSlot();hideCharacter();showManager();setManager('assets/manager-surprise.png');setDialogue('Нет! Ты должна это услышать');_0xe685(_0xe9f9);}function _0xe9f9(){hideCapsule();hideManager();intro.style.display = 'block';showIntro('Он достаёт айпад,делает пару свайпов,включает тёмный экран с белым шрифтом:');_0xe685(_0x5ded);}function _0x5ded(){showIntro('Бизнес-план:');_0xe685(_0xe3fc);}function _0xe3fc(){showIntro('Платформа для ревью кофеен на основе нейросети');_0xe685(_0xfef3);}function _0xfef3(){showIntro('С фильтром "не обсирай,если бариста милый"');_0xe685(_0x454b);}function _0x454b(){showIntro('Подписка,NFT-карточки,пинты кофе за рефералы');_0xe685(_0x2cac);}function _0x2cac(){intro.style.display = 'none';showCharacter();showCapsule();setCharacter('assets/girl-surprise.png');setDialogue('Господи… Ну и дичь');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0x52cb);}function _0x52cb(){setCharacter('assets/girl-smile.png');setDialogue('Но подано уверенно');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0xb1c6);}function _0xb1c6(){dialogue.innerHTML = '';setCharacter('assets/girl-smile.png');setDialogue('Слушай,ты кравчик');hideChoicesKeepSlot();_0xe685(_0xe451);}function _0xe451(){setCharacter('assets/girl-default.png');setDialogue('Главное — никогда не сдавайся,иди к своей цели');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0xce1f);}function _0xcf4e(){hideManager();showCharacter();setCharacter('assets/girl-default.png');setDialogue('Но если будет слишком сложно — пофиг,сдавайся');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0x7fb1);}function _0xce1f(){hideCharacter();showManager();setManager('assets/manager-surprise.png');setDialogue('…');_0xe685(_0xcf4e);}function _0x7fb1(){hideCharacter();showManager();setManager('assets/manager-surprise.png');setDialogue('Я ниче не понял,но спасибо!');hideChoicesKeepSlot();_0xe685(()=>{setDialogue('Всё,пошёл делать!');hideChoicesKeepSlot();_0xe685(_0x66f2);});}function _0x66f2(){hideManager();showCharacter();setCharacter('assets/girl-default.png');setDialogue('Да,ну и денёк...');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0xbddf);}function _0xbddf(){setCharacter('assets/girl-default.png');setDialogue('На самом деле хорошо,что у людей есть мечты');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0xc4fb);}function _0xc4fb(){setCharacter('assets/girl-default.png');setDialogue('А вдруг в этом что-то есть?');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';showChoicesHTML(` <button class="choice" onclick="_0xc98f()">Чёрт,а ведь может есть</button> <button class="choice" onclick="_0xeaba()">Бред сумасшедшего</button> `);}function _0xc98f(){_0x5307('awareness');hideChoicesKeepSlot();setCharacter('assets/girl-default.png');setDialogue('Идея безумная,но в ней что-то цепляет');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';_0xe685(()=>{setDialogue('Запишу на всякий случай');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';_0xe685(_0x86e0);});}function _0xeaba(){_0x5307('toxicity');hideChoicesKeepSlot();setCharacter('assets/girl-default.png');setDialogue('Идея из вселенной,где люди платят криптой за капучино');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';_0xe685(()=>{setDialogue('Хотя,кажется,люди и правда платят криптой за кофе…');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';_0xe685(_0x86e0);});}function _0x86e0(){setCharacter('assets/girl-default.png');setDialogue('А теперь пора закрывать ноут');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(()=>{setDialogue('Хватит подвигов на сегодня');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0x603c);});}function _0x603c(){hideCapsule();hideCharacter();_0x3ccd('assets/background-homenight.png');intro.style.display = 'block';showIntro('Ты возвращаешься домой. За окном уже темно,город тихий');_0xe685(_0xe5ce);}function _0xe5ce(){showIntro('Внутри — тишина и странное спокойствие');_0xe685(_0x0ee1);}function _0x0ee1(){showIntro('В голове всплывают фрагменты дня — выборы,слова,лица');_0xe685(_0xda08);}function _0xda08(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Вот и все');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';hideChoicesKeepSlot();_0xe685(_0xce1e);}function _0xce1e(){setDialogue('Спасибо,что был мной весь день. И респект,что дошёл до конца');dialogue.innerHTML = dialogue.textContent;hideChoicesKeepSlot();_0xe685(_0xcffa);}function _0xcffa(){setCharacter('assets/girl-smile.png');setDialogue('А теперь давай узнаем,какой ты дизайнер');dialogue.innerHTML = dialogue.textContent;hideChoicesKeepSlot();_0xe685(_0x3cfa);}function _0x3cfa(){hideCapsule();hideCharacter();intro.style.display = 'block';intro.classList.add('centered-text');showIntro('Обработка данных…');_0xe685(_0xcdd6);}function _0xcdd6(){showIntro('Анализ поведения…');_0xe685(_0xa28a);}function _0xa28a(){showIntro('Подбор архетипа…');_0xe685(()=>{intro.classList.remove('centered-text');showArchetype();});}const endings = [{id:'aesthete',icon:'assets/aesthete.png',title:'Эстет-террорист',subtitle:'«Я не токсик,просто вижу уродство»',blocks:[ 'Можешь уничтожить концепт одной фразой. Делаешь божественно,но все страдают','Пиксели — идеальны.\nКоллеги — в терапии','Ты как ревью с огнемётом. Иконка Figma трясётся при входе',]},{id:'ninja',icon:'assets/ninja.png',title:'Корпоративный ниндзя',subtitle:'«Я чиню мир,пока вы созваниваетесь»',blocks:[ 'Ты не кричишь,не споришь,не давишь,но именно ты спасаешь проект,когда всё разваливается','Знаешь все паттерны,но никому их не навязываешь','Тебя не видно. Но если уйдёшь,все это почувствуют',]},{id:'punk',icon:'assets/punk.png',title:'Product-панк',subtitle:'«Я не срываю процесс. Я выражаюсь»',blocks:[ 'Ты называешь хаос «гибкостью». Врываешь дизайн-систему ради экспрессии','Бесишь всех,но двигаешь продукт','Ты не согласен с ТЗ,но согласен с собой. Этого достаточно',]},{id:'skull',icon:'assets/skull.png',title:'Фигма-гуру на грани',subtitle:'«Я все сделал и сейчас исчезну»',blocks:[ 'Если ты не выгорел в этом спринте — значит,не твой проект','Ты оформляешь за троих,думаешь за пятерых,умираешь в одиночку','Ты сделал красиво. Как всегда. Потому что не умеешь иначе',]},{id:'lips',icon:'assets/lips.png',title:'Старший Интроверт по макетам',subtitle:'«Я молчу,потому что уже сделал»',blocks:[ 'Ты не участвуешь в обсуждениях,ты их предотвращаешь','Все уже работает,но никто ещё не понял,что это благодаря тебе','Ты не интроверт. Ты просто уже видел,чем всё это заканчивается',]},{id:'bird',icon:'assets/bird.png',title:'Душнила с добрым сердцем',subtitle:'«Я объясню тебе,почему ты не прав»',blocks:[ 'Ты хочешь,чтобы всё было понятно. Даже если придётся всё объяснить трижды','Ты не придираешься. Ты восстанавливаешь справедливость','Всё просто,если сначала прочитать,а потом говорить',]},{id:'battery',icon:'assets/battery.png',title:'Креативный выгоревший',subtitle:'«Я всё ещё горю. Наверное...»',blocks:[ 'Идеи есть всегда. Просто теперь они лежат и не двигаются','В команде тебя любят,но боятся однажды потерять','Бро,помоги себе,пожалуйста. Ты всё ещё сияешь,просто через боль',]},{id:'ice',icon:'assets/ice.png',title:'Методичный циник',subtitle:'«Я всё учёл,даже бессмысленность»',blocks:[ 'Любая задача — это просто баг,который можно задокументировать','Комменты пишешь заранее,потому что угадываешь чужие ошибки','Ты не против эмоций. Просто в регламенте их не было',]}];function _0x3ccf(data){const c = document.getElementById('ending');if(!c)return;c.innerHTML = '';const head = document.createElement('div');head.className = 'ending-card ending-header hidden';const img = document.createElement('img');img.className = 'ending-icon';img.width = 100;img.height = 100;img.alt = data.title || '';(function(){const src = data.icon || 'assets/aesthete.png';const webp = src.endsWith('.png')? src.replace(/\.png$/i,'.webp'):src;img.src = webp;img.onerror =()=>{img.src = src;};})();const h = document.createElement('h3');h.className = 'ending-title';h.textContent = data.title || '';const s = document.createElement('p');s.className = 'ending-subtitle';s.textContent = data.subtitle || '';head.appendChild(img);head.appendChild(h);head.appendChild(s);c.appendChild(head);(data.blocks || []).forEach(text =>{const card = document.createElement('div');card.className = 'ending-card hidden';card.textContent = text;c.appendChild(card);});}function _0x5f34(){const actionsBtn = document.querySelector('.ending-actions');if(actionsBtn){actionsBtn.classList.remove('hidden');document.body.removeEventListener('click',_0x5f34);document.body.removeEventListener('keydown',_0xbc9c);}}function _0xbc9c(e){if(e.code === 'Space' || e.code === 'Tab' || e.key === ' ' || e.key === 'Tab'){e.preventDefault();_0x5f34();}}function showArchetype(){const archetypes = [{id:0,name:'aesthete',traits:[3,0,0,3,3,0,3,0]},{id:1,name:'ninja',traits:[0,3,3,0,0,3,3,0]},{id:2,name:'punk',traits:[3,0,0,2,2,1,0,3]},{id:3,name:'skull',traits:[2,1,2,1,1,2,3,0]},{id:4,name:'lips',traits:[0,3,2,1,0,3,2,1]},{id:5,name:'bird',traits:[1,2,2,1,0,3,1,2]},{id:6,name:'battery',traits:[2,1,1,2,1,1,2,2]},{id:7,name:'ice',traits:[1,2,0,3,1,1,0,3]}];const userVector = [ state.extroversion,state.introversion,state.empathy,state.indifference,state.toxicity,state.awareness,state.perfectionism,state.pragmatism ];let minDistance = Infinity;let selectedArchetype = 0;archetypes.forEach((archetype)=>{let distance = 0;for(let i = 0;i < 8;i++){distance += Math.abs(userVector[i] - archetype.traits[i]);}if(distance < minDistance){minDistance = distance;selectedArchetype = archetype.id;}});console.log('Final state:',state);console.log('User vector:',userVector);console.log('Selected archetype:',selectedArchetype,'with distance:',minDistance);if(typeof trackEvent === 'function'){trackEvent('game_complete',{'event_category':'game','event_label':'finished','archetype':archetypes[selectedArchetype].name,'archetype_id':selectedArchetype,'extroversion':state.extroversion,'introversion':state.introversion,'empathy':state.empathy,'indifference':state.indifference,'toxicity':state.toxicity,'awareness':state.awareness,'perfectionism':state.perfectionism,'pragmatism':state.pragmatism});}intro.style.display = 'none';hideCapsule();hideCharacter();const endingSection = document.getElementById('ending-section');if(endingSection){endingSection.style.display = 'block';}_0x3ccf(endings[selectedArchetype]);const cards = document.querySelectorAll('.ending-card');cards.forEach(card => card.classList.remove('hidden'));const actionsBtn = document.querySelector('.ending-actions');if(actionsBtn)actionsBtn.classList.add('hidden');document.body.addEventListener('click',_0x5f34);document.body.addEventListener('keydown',_0xbc9c);}function _0x25be(){window.location.reload();}function showIntroScreen(text,nextFn){intro.style.display = 'block';showIntro(text);_0xe685(nextFn);}let __internLoadId = 0;function setIntern(src){if(src && src.includes('intern-default')){intern.classList.add('intern-offset');}else{intern.classList.remove('intern-offset');}const loadId = ++__internLoadId;_0x3bf7(src).then((best)=>{if(loadId !== __internLoadId)return;if(intern.src && intern.src.endsWith(best))return;const img = new Image();img.src = best;const _0xaa70 =()=>{if(loadId === __internLoadId)intern.src = best;};img.decode ? img.decode().then(_0xaa70):(img.onload = _0xaa70);});}function showIntern(){if(!intern)return;intern.style.display = 'block';if(badgeIntern)badgeIntern.classList.add('visible');requestAnimationFrame(()=>{intern.classList.add('visible');});}function hideIntern(){if(!intern)return;intern.classList.remove('visible');if(badgeIntern)badgeIntern.classList.remove('visible');setTimeout(()=>{intern.style.display = 'none';},800);}let __devLoadId = 0;function setDev(src){const loadId = ++__devLoadId;_0x3bf7(src).then((best)=>{if(loadId !== __devLoadId)return;if(dev.src && dev.src.endsWith(best))return;const img = new Image();img.src = best;const _0xaa70 =()=>{if(loadId === __devLoadId)dev.src = best;};img.decode ? img.decode().then(_0xaa70):(img.onload = _0xaa70);});}function showDev(){dev.style.display = 'block';badgeDev.classList.add('visible');requestAnimationFrame(()=>{dev.classList.add('visible');});}function hideDev(){dev.classList.remove('visible');badgeDev.classList.remove('visible');setTimeout(()=>{dev.style.display = 'none';},800);}function setDialogue(text){dialogue.textContent = text;}function showCapsule(){capsule.style.display = 'flex';}function hideCapsule(){capsule.style.display = 'none';}function showChoicesHTML(html){choices.innerHTML = html;choices.classList.remove('hidden');capsule.classList.remove('no-choices');choices.querySelectorAll('button').forEach(btn =>{btn.disabled = false;btn.tabIndex = 0;if(!btn.getAttribute('type'))btn.setAttribute('type','button');});}function hideChoicesKeepSlot(){choices.classList.add('hidden');capsule.classList.add('no-choices');choices.querySelectorAll('button').forEach(btn =>{btn.disabled = true;btn.tabIndex = -1;});}let __globalActionLock = false;function _0xe685(cb){const handleClick =()=> _0x24c2();const handleKey =(e)=>{if(e.code === 'Space' || e.code === 'Enter' || e.key === ' ' || e.key === 'Enter'){if(e.repeat)return;e.preventDefault();_0x24c2();}};let fired = false;function _0x24c2(){if(fired || __globalActionLock)return;fired = true;__globalActionLock = true;document.body.removeEventListener('click',handleClick,{passive:true});document.body.removeEventListener('keydown',handleKey);if(typeof cb === 'function'){cb();setTimeout(()=>{__globalActionLock = false;},250);}}setTimeout(()=>{document.body.addEventListener('click',handleClick,{passive:true});document.body.addEventListener('keydown',handleKey);},80);}const introDialogues = [ 'Привет,ты попал в симулятор продуктового дизайнера','Проживи этот день с кайфом,\nно помни,что все твои действия влияют на ход игры' ];let i = 0;function showIntro(text){intro.textContent = text;}function hideIntro(){intro.style.display = 'none';}showIntro(introDialogues[0]);const spaceHandler =(e)=>{if(e.code === 'Space')_0x46b9();};document.body.addEventListener('click',_0x46b9);document.body.addEventListener('keydown',spaceHandler);function _0x46b9(){if(i < introDialogues.length - 1){i++;showIntro(introDialogues[i]);}else{_0x7aad();}}function _0x7aad(){if(typeof trackEvent === 'function'){trackEvent('game_start',{'event_category':'game','event_label':'gameplay_started'});}hideIntro();showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Я Вика,сегодня ты — это я');hideChoicesKeepSlot();document.body.removeEventListener('click',_0x46b9);document.body.removeEventListener('keydown',spaceHandler);_0xe685(()=>{setDialogue('Мы проведем этот день вместе,а в конце узнаем к какому типу дизайнера ты относишься');hideChoicesKeepSlot();_0xe685(()=>{setDialogue('Погнали!');hideChoicesKeepSlot();_0xe685(showWorkChoice);});});}function showWorkChoice(){setDialogue('Ну что,пора на работу,пойти ли в офис сегодня?');showChoicesHTML(` <button class="choice" onclick="_0xf90d()">Работать удаленно</button> <button class="choice" onclick="_0x15e5()">Пойти в офис</button> `);}function showOfficeResponse(){setCharacter('assets/girl-smile.png');setDialogue('О,ты решил пойти в офис,как неожиданно и приятно,уверена,что коллеги соскучились по тебе');hideChoicesKeepSlot();}function _0xf90d(){showOfficeResponse();_0xe685(_0xb3ff);}function _0x15e5(){showOfficeResponse();_0xe685(_0xb3ff);}function _0xb3ff(){if(typeof trackEvent === 'function'){trackEvent('scene_reached',{'event_category':'progress','event_label':'scene_1','scene_number':1});}_0x3ccd('assets/background-office.png');hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Вот ты и оказался в любимом офисе');_0xe685(showScene1Part2);}function showScene1Part2(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('С чего начнёшь свой день?');showChoicesHTML(` <button class="choice" onclick="_0xd4b6()">Поболтаю с коллегами на кухне</button> <button class="choice" onclick="_0x947b()">Проверю почту</button> `);}function _0x9ceb(){_0x3ccd('assets/background-coffeepoint.png');hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Ты заходишь на кухню. Пахнет тостами,кто-то спорит у кофемашины');_0xe685(_0xafa5);}function _0xafa5(){showIntro('И вдруг ты слышишь знакомую фразу');_0xe685(_0x64b9);}function _0x64b9(){showIntro('«А у нас премии вообще ещё бывают или это миф?»');_0xe685(_0x6de2);}function _0x6de2(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-smile.png');showCapsule();setDialogue('Ты невольно усмехаешься — кажется,утро начинается как обычно');showChoicesHTML(` <button class="choice" onclick="_0x2ab4()">Поддержать шутку</button> <button class="choice" onclick="_0xdded()">Бывают. Только не у нас</button> `);}function _0x2ab4(){_0x5307('awareness');setCharacter('assets/girl-smile.png');hideChoicesKeepSlot();setDialogue('Конечно бывают. Просто их выдают в виде морального удовлетворения');_0xe685(_0xe7fc);}function _0xe7fc(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Коллеги смеются,кто-то хлопает тебя по плечу');_0xe685(_0x4276);}function _0x4276(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Ладно,хватит философии,кофе выпит — теперь можно и мир спасать');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x1c83);}function _0xdded(){_0x5307('toxicity');setCharacter('assets/girl-toxic.png');hideChoicesKeepSlot();setDialogue('Я вот жду уже третий год — думаю,может,это квест такой?');_0xe685(_0x7647);}function _0x7647(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Кто-то усмехается,кто-то кивает с сочувствием');_0xe685(_0x0492);}function _0x0492(){showIntro('Ты чувствуешь лёгкое облегчение — будто сказал вслух то,о чём все думают');_0xe685(_0xefdc);}function _0xefdc(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Ну что ж… хотя бы поржали. Пойду посмотрю,какие ужасы прилетели');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x1c83);}function _0x1c83(){_0x3ccd('assets/background-desktop.png');hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('После короткой разминки утро набирает обороты. На экране уже мигают задачи — день начинается по-настоящему');_0xe685(_0xfd6f);}function _0xfd6f(){intro.style.display = 'none';_0x1fce();}function _0xfd6f(){intro.style.display = 'none';_0x1fce();}function _0x1fce(){if(typeof trackEvent === 'function'){trackEvent('scene_reached',{'event_category':'progress','event_label':'scene_2','scene_number':2});}showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Так,что у нас тут…');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x9d8f);}function _0x9d8f(){setDialogue('Горящие дедлайны,фигма в 10 вкладках и трекер,в котором порядок только снится');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x8ced);}function _0x8ced(){setDialogue('С чего начать?');dialogue.innerHTML = dialogue.textContent;function showSacredHour(){setDialogue('Как провести этот священный час?');dialogue.innerHTML = dialogue.textContent;}showChoicesHTML(` <button class="choice" onclick="_0x6bcd()">Планирую приоритеты в трекере</button> <button class="choice" onclick="_0x4e03()">Открываю Figma и в бой</button> `);}function _0x6bcd(){_0x5307('perfectionism');hideChoicesKeepSlot();setDialogue('Так,дедлайны — на место,карточки — по цветам');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(()=>{setDialogue('Если хаос снаружи,пусть хотя бы внутри будет порядок');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xd9e9);});}function _0x4e03(){_0x5307('pragmatism');hideChoicesKeepSlot();setDialogue('Не тормозим. Новый фрейм,половина элементов уже откуда-то утащена — идеально');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xd9e9);}function _0xd9e9(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Ты отхлёбываешь кофе,ловишь фокус — и видишь в календаре мигающее приглашение:');_0xe685(()=>{showIntro('«Дизайн-синк 11:00 — обсуждаем новую фичу»');_0xe685(_0x2ce4);});}function _0x2ce4(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Всё,пора в переговорку. Мысленно надеваю броню');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(()=>{_0x3ccd('assets/background-meeting.png');hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Ты заходишь,киваешь. Поехали');_0xe685(()=>{intro.style.display = 'none';showManager();setManager('assets/manager-default.png');showCapsule();setDialogue('Коллеги,время поджимает. Нужно быстро пройтись по вариантам и выбрать рабочий');hideChoicesKeepSlot();_0xe685(_0xcbba);});});}function _0xcbba(){hideCapsule();hideManager();showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Ну конечно,"быстро определимся",а потом ещё месяц будем чинить баги');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x3b2f);}function _0xcbba(){hideCapsule();hideManager();showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Ну конечно,"быстро определимся",а потом ещё месяц будем чинить баги');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0x3b2f);}function _0x3b2f(){hideCharacter();hideCapsule();showManager();setManager('assets/manager-default.png');showCapsule();setDialogue('Сами понимаете,срок на носу. Бизнес уже ждёт апдейт');_0xe685(_0x26b6);}function _0x26b6(){hideManager();hideCapsule();showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Смотрю на аналитика — он делает вид,что изучает таблицу');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xab5a);}function _0xab5a(){setCharacter('assets/girl-sad.png');setDialogue('Понятно. Похоже,придётся решать самой');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xacea);}function _0xacea(){setCharacter('assets/girl-default.png');setDialogue('Как поступить?');dialogue.innerHTML = dialogue.textContent;showChoicesHTML(` <button class="choice" onclick="_0xfaed()">Давайте хотя бы проверим гипотезу</button> <button class="choice" onclick="_0x93be()">Лучше просто досидеть</button> `);}function _0xfaed(){_0x5307('empathy');setCharacter('assets/girl-smile.png');hideChoicesKeepSlot();setDialogue('Я понимаю,что времени мало,но если не протестим гипотезу на пользователях,снова будем переделывать');_0xe685(_0x3efa);}function _0x3efa(){hideCharacter();showManager();setManager('assets/manager-default.png');setDialogue('А если это вообще не взлетит? Мы потратим время,которого нет');hideChoicesKeepSlot();_0xe685(_0xefdf);}function _0xefdf(){hideManager();showCharacter();setCharacter('assets/girl-default.png');setDialogue('Лучше потратить пару дней сейчас,чем кучу денег после релиза,когда начнут приходить скрины в стиле "вы серьёзно?"');hideChoicesKeepSlot();_0xe685(_0x8ead);}function _0x8ead(){hideCapsule();hideCharacter();hideManager();intro.style.display = 'block';showIntro('Никто не перебивает. Менеджер кивает,аналитик записывает:«Проверить на пилоте»');_0xe685(_0xdba5);}function _0xdba5(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Вот и всё. Иногда,чтобы тебя услышали,надо просто не промолчать');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0xe062);}function _0x93be(){_0x5307('indifference');setCharacter('assets/girl-smile.png');hideChoicesKeepSlot();setDialogue('Мир подождёт. Сегодня я просто не в ресурсе спасать проект');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0x7a82);}function _0x7a82(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Ты решаешь не тратить энергию');_0xe685(_0xdcdf);}function _0xdcdf(){showIntro('Слушаешь,как спорят менеджер и аналитик,открываешь ноутбук,делаешь вид,что ищешь файл');_0xe685(_0x8a18);}function _0x8a18(){showIntro('На самом деле просто считаешь минуты до конца встречи');_0xe685(_0xe062);}function _0xe062(){intro.style.display = 'none';hideCharacter();showManager();setManager('assets/manager-default.png');showCapsule();setDialogue('Хорошо,кажется,на сегодня всё ясно. Давайте просто возьмём этот вариант и закроем задачу');hideChoicesKeepSlot();_0xe685(_0x793a);}function _0x793a(){hideCapsule();hideManager();intro.style.display = 'block';showIntro('Все переглядываются,но никто не берёт на себя финальное слово');_0xe685(_0xdf3a);}function _0xdf3a(){showIntro('Менеджер смотрит в экран,разработчик уже закрыл ноут,аналитик делает вид,что пишет');_0xe685(_0x98e1);}function _0x98e1(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Окей,мы будто всё решили… но не совсем. Или просто все устали?');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xa05c);}function _0xa05c(){setDialogue('Как закончить встречу?');dialogue.innerHTML = dialogue.textContent;showChoicesHTML(` <button class="choice" onclick="_0xc2f9()">Подведу итоги</button> <button class="choice" onclick="_0xb853()">Ладно,всем спасибо,я пошла!</button> `);}function _0xc2f9(){_0x5307('perfectionism');setCharacter('assets/girl-smile.png');hideChoicesKeepSlot();setDialogue('Я всё зафиксирую и скину мемо встречи');_0xe685(_0xbeeb);}function _0xbeeb(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Менеджер благодарно кивает. Остальные тут же поднимаются. Внутри — ощущение,что ты закрыла гештальт');_0xe685(_0x8a7a);}function _0x8a7a(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Ну хоть будет что переслать тем,кто "не смог подключиться"');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0xbafc);}function _0xb853(){_0x5307('pragmatism');setCharacter('assets/girl-smile.png');hideChoicesKeepSlot();setDialogue('Была рада всех видеть,буду ждать мемо,всем спасибо!');_0xe685(_0xfbef);}function _0xfbef(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Ты быстро встаёшь,и остальные сразу следом. Облегчение ощущается физически — встреча окончена');_0xe685(_0xdb3b);}function _0xdb3b(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Никакого "потом обсудим". Просто конец');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0xbafc);}function _0xbafc(){hideCapsule();hideCharacter();hideManager();intro.style.display = 'none';_0x7ad0();}function _0x7ad0(){if(typeof trackEvent === 'function'){trackEvent('scene_reached',{'event_category':'progress','event_label':'scene_3','scene_number':3});}_0x3ccd('assets/background-office.png');hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Ты выходишь из переговорки и чувствуешь шум офиса — клавиатуры,звонки,шаги');_0xe685(_0xc9fb);}function _0xc9fb(){showIntro('Мир снова движется,а внутри тебя — тишина и лёгкое напряжение');_0xe685(_0xcbea);}function _0xcbea(){showIntro('Часы показывают почти час дня. Голова гудит от встреч. Календарь намекает на паузу');_0xe685(_0xf5ab);}function _0xf5ab(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Как провести этот священный час?');dialogue.innerHTML = dialogue.textContent;showChoicesHTML(` <button class="choice" onclick="_0xce13()">Остаться и доделать макет</button> <button class="choice" onclick="_0xdc96()">Если не поем — помру</button> `);}function _0xce13(){_0x5307('perfectionism');hideChoicesKeepSlot();setCharacter('assets/girl-default.png');setDialogue('Планировала поесть — но взгляд зацепился за неровную сетку');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xe4be);}function _0xe4be(){setDialogue('Всего одна правка. Ну,или шесть. Но потом точно пойду');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0x8aed);}function _0x8aed(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Коллеги зовут в столовку — ты киваешь,не отрываясь от макета,но всё-таки идёшь');_0xe685(_0xfc05);}function _0xdc96(){_0x5307('pragmatism');hideChoicesKeepSlot();setCharacter('assets/girl-default.png');setDialogue('Пусть пиксели подождут. Я тоже продукт');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0x346e);}function _0x346e(){setDialogue('А то без еды я не дизайнер,а угроза экосистеме');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xf7be);}function _0xf7be(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Закрываешь ноут,идёшь в столовку');_0xe685(_0xfc05);}function _0xfc05(){_0x3ccd('assets/background-coffeepoint.png');intro.style.display = 'block';showIntro('Кто-то рассказывает,как ездил в Сочи,кто-то спорит про сериал');_0xe685(_0xdcb2);}function _0xdcb2(){showIntro('Ты киваешь,ешь,ловишь паузы между шумом');_0xe685(()=>{showIntro('Почти расслабилась — и тут появляется коллега');_0xe685(_0x55fa);});}function _0x55fa(){intro.style.display = 'none';hideCharacter();showIntern();setIntern('assets/intern-default.png');showCapsule();setDialogue('Слушай,у меня дедлайн горит,я не справляюсь. Можешь глянуть?');_0xe685(_0x83a5);}function _0x83a5(){hideIntern();showCharacter();setCharacter('assets/girl-surprise.png');setDialogue('Как отреагировать?');showChoicesHTML(` <button class="choice" onclick="_0xcc1f()">Конечно,помогу</button> <button class="choice" onclick="_0xdd0f()">Я сейчас занята,потом</button> `);}function _0xcc1f(){_0x5307('empathy');hideChoicesKeepSlot();setCharacter('assets/girl-default.png');setDialogue('Да,конечно. Покажи,что не получается?');_0xe685(_0xcee6);}function _0xcee6(){hideCharacter();showIntern();setIntern('assets/intern-default.png');setDialogue('Тут не понимаю,как адаптировать под мобилу. Всё съезжает,уже голова кипит');_0xe685(_0xcb2b);}function _0xcb2b(){hideIntern();showCharacter();setDialogue('Окей,давай подумаем вместе. Сетка у тебя нестабильна из-за контейнера — его бы зафиксировать,а дальше всё сложится');_0xe685(_0xbbf4);}function _0xbbf4(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Пятнадцать минут объяснений,пара советов — и Стажёр уже улыбается');_0xe685(()=>{showIntro('Обед сгорает,но почему-то не жалко');_0xe685(_0x85cb);});}function _0x85cb(){intro.style.display = 'none';hideCharacter();showIntern();setIntern('assets/intern-default.png');showCapsule();setDialogue('Спасибо,ты лучшая!');hideChoicesKeepSlot();_0xe685(_0x45fe);}function _0x45fe(){hideIntern();intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Иногда одна встреча важнее трёх кнопок. И одной котлеты');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x98ff);}function _0xdd0f(){_0x5307('indifference');hideChoicesKeepSlot();setCharacter('assets/girl-default.png');setDialogue('Сорри,я как раз в потоке. Может чуть позже?');_0xe685(_0xd5f5);}function _0xd5f5(){hideCharacter();showIntern();setIntern('assets/intern-sad.png');setDialogue('Ага,поняла. Не буду мешать…');_0xe685(_0xcecf);}function _0xcecf(){hideCapsule();hideCharacter();hideIntern();intro.style.display = 'block';showIntro('Стажёрик молча уходит. Ты ещё пару секунд смотришь в тарелку — но всё уже не так важно');_0xe685(_0x98ff);}function _0x98ff(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-sad.png');showCapsule();setDialogue('А ведь когда-то и я сидела так же — с кривой сеткой,в панике и с сгорающим дедлайном');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xe48b);}function _0xe48b(){setCharacter('assets/girl-sad.png');setDialogue('Тоже боялась спросить,тоже надеялась,что кто-то подскажет');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0x5e2b);}function _0x5e2b(){setCharacter('assets/girl-sad.png');setDialogue('О как');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0x4f25);}function _0x4f25(){setCharacter('assets/girl-default.png');setDialogue('Так,ладно,обед закончился,пора и честь знать');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xb7d3);}function _0xb7d3(){hideCapsule();hideCharacter();_0x3ccd('assets/background-desktop.png');intro.style.display = 'block';showIntro('Возвращаясь на рабочее место,ты чувствуешь себя чуть легче — будто внутри стало больше воздуха');_0xe685(_0xded7);}function _0xd65f(){showIntro('На экране уже мигает уведомление:\n«Встреча по задачам на вторую половину дня»');_0xe685(_0x2a5d);}function _0x2a5d(){hideCapsule();hideCharacter();hideIntern && hideIntern();hideManager();intro.style.display = 'none';}function _0x6386(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Похоже,обед закончился. Вперёд,в следующие приключения');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();}function _0x7a37(){_0x3ccd('assets/background-desktop.png');hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Ты открываешь почту — двадцать непрочитанных,три "важных",и одно письмо с пометкой «Срочно»');_0xe685(_0xd067);}function _0xd067(){showIntro('«Всё супер,только можешь сделать кнопки побольше и убрать лишние отступы? Хочется,чтобы "дышало",но не слишком»');_0xe685(_0xf1a3);}function _0xd067(){showIntro('«Всё супер,только можешь сделать кнопки побольше и убрать лишние отступы? Хочется,чтобы "дышало",но не слишком»');_0xe685(_0xf1a3);}function _0xf1a3(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Кнопки побольше,отступы поменьше,чтоб "дышало",но не сильно…');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x1d0f);}function _0x1d0f(){setDialogue('Ты некоторое время просто смотришь на экран');showChoicesHTML(` <button class="choice" onclick="_0xbfc6()">Ответить с аргументами</button> <button class="choice" onclick="_0xc256()">Удалить письмо</button> `);}function _0xbfc6(){_0x5307('awareness');setCharacter('assets/girl-smile.png');hideChoicesKeepSlot();setDialogue('«Спасибо! Только если увеличить кнопки,придётся передвинуть пол-интерфейса,а отступы как раз и дают дыхание. Иначе задохнёмся»');_0xe685(_0xb8fd);}function _0xb8fd(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('Через пару минут приходит короткое:«Ок,доверимся вкусу дизайнера»');_0xe685(_0x43c4);}function _0x43c4(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-default.png');showCapsule();setDialogue('Окей,иногда люди реально готовы услышать аргументы. Уже неплохо. Живём');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0xe82a);}function _0xc256(){_0x5307('toxicity');setCharacter('assets/girl-toxic.png');hideChoicesKeepSlot();setDialogue('Тишина — лучший способ сохранить ментальное здоровье');_0xe685(_0xfab6);}function _0xfab6(){setCharacter('assets/girl-toxic.png');setDialogue('Если промолчать — никто не расстроится. А я сэкономлю себе минимально один нейрон');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0xe82a);}function _0xe82a(){hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('После короткой разминки утро набирает обороты. На экране уже мигают задачи — день начинается по-настоящему');_0xe685(_0xfd6f);}function _0xd4b6(){_0x5307('extroversion');hideChoicesKeepSlot();setDialogue('Отличное начало дня! Новости и сплетни помогают быть в курсе того,что происходит в компании');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';_0xe685(_0x9ceb);}function _0x947b(){_0x5307('introversion');hideChoicesKeepSlot();setDialogue('Так,никакой болтовни,только я и эти 1829110 писем');dialogue.innerHTML = '<em>«' + dialogue.textContent + '»</em>';_0xe685(_0x7a37);}function _0xded7(){if(typeof trackEvent === 'function'){trackEvent('scene_reached',{'event_category':'progress','event_label':'scene_4','scene_number':4});}hideCapsule();hideCharacter();hideIntern && hideIntern();hideManager && hideManager();hideDev && hideDev();intro.style.display = 'block';showIntro('Открываешь Slack. В чате уже кипит жизнь');_0xe685(_0x4f03);}function _0x4f03(){intro.style.display = 'none';showDev();setDev('assets/dev-default.png');showCapsule();setDialogue('А у нас такого компонента нет');hideChoicesKeepSlot();_0xe685(_0x1ebd);}function _0x1ebd(){hideDev();showCharacter();setCharacter('assets/girl-smile.png');showCapsule();setDialogue('Ага,поехали…');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x6b2f);}function _0x6b2f(){hideCharacter();showDev();setDev('assets/dev-smile.png');showCapsule();setDialogue('А зачем вообще это делать? Оно же работает как есть');hideChoicesKeepSlot();_0xe685(_0xfddd);}function _0xfddd(){hideDev();hideCapsule();intro.style.display = 'block';showIntro('Подключается ещё кто-то:');_0xe685(_0xc09d);}function _0xc09d(){showIntro('«Дизайнеры опять наворотили,а нам теперь переделывать»');_0xe685(_0x3cfc);}function _0x3cfc(){intro.style.display = 'none';showCharacter();setCharacter('assets/girl-smile.png');showCapsule();setDialogue('А может,просто кинуть стикер с обезьяной и выйти из чата?');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x948f);}function _0x948f(){showCharacter();setCharacter('assets/girl-toxic.png');showCapsule();setDialogue('Как отреагировать?');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';showChoicesHTML(` <button class="choice" onclick="_0xa5fb()">Отвечу по фактам,без наезда</button> <button class="choice" onclick="_0x327f()">Сделать больно,но весело</button> `);}function _0xa5fb(){_0x5307('awareness');showCharacter();setCharacter('assets/girl-default.png');setDialogue('Если бы у нас был компонент,не пришлось бы придумывать');hideChoicesKeepSlot();_0xe685(()=>{setDialogue('Это не просто хотелка,мы решаем конкретную проблему');_0xe685(()=>{setDialogue('Мне бы тоже хотелось "не трогать,если работает",но оно не работает');_0xe685(()=>{hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('В чате становится тише');_0xe685(()=>{showIntro('Через пару минут разработчик скидывает скрин и пишет:');_0xe685(()=>{intro.style.display = 'none';showDev();setDev('assets/dev-default.png');showCapsule();setDialogue('Окей,вот так пойдёт?');hideChoicesKeepSlot();_0xe685(()=>{hideDev();showCharacter();setCharacter('assets/girl-smile.png');setDialogue('Рабочая сессия без драмы — уже успех');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0xfb4b);});});});});});});}function _0x327f(){_0x5307('toxicity');showCharacter();setCharacter('assets/girl-toxic.png');setDialogue('Ну да,конечно. Всё,что сложнее двух дивов — это уже “наворотили”');hideChoicesKeepSlot();_0xe685(()=>{hideCharacter();showDev();setDev('assets/dev-surprise.png');showCapsule();setDialogue('Ну ты тоже не кипятись,просто уточняем…');hideChoicesKeepSlot();_0xe685(()=>{hideDev();showCharacter();setCharacter('assets/girl-toxic.png');setDialogue('Уточняем,ага. Сначала хейт,потом "не кипятись". Классика');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(()=>{hideCapsule();hideCharacter();intro.style.display = 'block';showIntro('В чате наступает неловкая пауза...');_0xe685(()=>{showIntro('Кто-то кидает стикер с собакой в огне...');_0xe685(()=>{intro.style.display = 'none';showDev();setDev('assets/dev-default.png');showCapsule();setDialogue('Ладно-ладно,понял. Сделаем,как надо — только без войны,окей?');hideChoicesKeepSlot();_0xe685(()=>{hideDev();showCharacter();setCharacter('assets/girl-toxic.png');setDialogue('Кажется,я снова выиграла пассивно-агрессивный чемпионат офиса');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0xfb4b);});});});});});});}function _0xfb4b(){hideCharacter();showDev();setDev('assets/dev-default.png');showCapsule();setDialogue('Пока мы дописываем,можешь глянуть новый раздел,только выкатили');hideChoicesKeepSlot();_0xe685(_0xc78b);}function _0xabee(){_0x5307('empathy');setCharacter('assets/girl-smile.png');setDialogue('Соберу гипотезы и закину коллегам. Надо понять,насколько решение реально закрыло боли');hideChoicesKeepSlot();_0xe685(()=>{setCharacter('assets/girl-default.png');setDialogue('Люблю,когда можно проверить по факту,а не по ощущениям');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x44f7);});}function _0xe8fc(){_0x5307('indifference');setCharacter('assets/girl-default.png');setDialogue('Ну,багов нет — уже неплохо');hideChoicesKeepSlot();_0xe685(()=>{setCharacter('assets/girl-default.png');setDialogue('Если оно живёт — может,не трогать судьбу?');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x44f7);});}function _0x44f7(){setCharacter('assets/girl-default.png');setDialogue('Как ни крути,а момент,когда фича уходит в прод — всегда немного магический');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(()=>{setCharacter('assets/girl-smile.png');setDialogue('Никогда не знаешь,будет ли тихо… или бахнет');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(()=>{setCharacter('assets/girl-default.png');setDialogue('Написать ребятам,что молодцы?');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';showChoicesHTML(` <button class="choice" onclick="_0x7bca()">Напишу,пусть знают</button> <button class="choice" onclick="_0xe2f0()">Промолчу</button> `);});});}function _0x7bca(){_0x5307('extroversion');setCharacter('assets/girl-smile.png');setDialogue('Вы красавцы. И правда всё работает гладко,спасибо!');hideChoicesKeepSlot();_0xe685(()=>{setCharacter('assets/girl-default.png');setDialogue('Иногда одно тёплое сообщение спасает целую неделю');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x78ec);});}function _0xe2f0(){_0x5307('introversion');setCharacter('assets/girl-default.png');setDialogue('Да ну,подумают,что подлизываюсь… Лучше тихо порадуюсь');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(()=>{setCharacter('assets/girl-default.png');setDialogue('Кажется,сегодня я интроверт на максималках');dialogue.innerHTML = '<em>' + dialogue.textContent + '</em>';hideChoicesKeepSlot();_0xe685(_0x78ec);});}(function _0xc7ec(){const backgrounds = [ 'assets/background-office.png','assets/background-coffeepoint.png','assets/background-desktop.png','assets/background-meeting.png','assets/background-homenight.png' ];backgrounds.forEach(bg =>{_0x3bf7(bg).then(src =>{const img = new Image();img.src = src;if(img.decode)img.decode().catch(()=>{});});});})();window.addEventListener('load',()=>{const sceneA = document.getElementById('sceneA');const character = document.getElementById('character');Promise.all([ sceneA.decode ? sceneA.decode():Promise.resolve(),character.decode ? character.decode():Promise.resolve()]).then(()=>{document.body.classList.add('loaded');}).catch(()=>{document.body.classList.add('loaded');});});